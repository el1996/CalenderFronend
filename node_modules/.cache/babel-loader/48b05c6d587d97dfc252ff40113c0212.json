{"ast":null,"code":"import _slicedToArray from \"/Users/omarhmdea/Documents/calendar-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/omarhmdea/Documents/calendar-front/src/components/Day.js\",\n  _s = $RefreshSig$();\nimport dayjs from \"dayjs\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport GlobalContext from \"../context/GlobalContext\";\nimport EventService from \"../services/EventService\";\nimport utc from \"dayjs/plugin/utc\";\nimport timezone from \"dayjs/plugin/timezone\";\n\n// dayjs.extend(utc);\n// dayjs.extend(timezone);\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Day(_ref) {\n  _s();\n  var _this = this;\n  var day = _ref.day,\n    rowIdx = _ref.rowIdx;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    dayEvents = _useState2[0],\n    setDayEvents = _useState2[1];\n  var _useContext = useContext(AuthContext),\n    currentUser = _useContext.currentUser;\n  var _useContext2 = useContext(GlobalContext),\n    setDaySelected = _useContext2.setDaySelected,\n    setShowEventModal = _useContext2.setShowEventModal,\n    filteredEvents = _useContext2.filteredEvents,\n    events = _useContext2.events,\n    setSelectedEvent = _useContext2.setSelectedEvent;\n\n  // useEffect(() => {\n  // \tconst events = filteredEvents.filter((evt) => {\n  // \t\treturn (\n  // \t\t\tdayjs(evt.start).format(\"DD-MM-YY\") ===\n  // \t\t\t\tday.format(\"DD-MM-YY\") ||\n  // \t\t\tdayjs(evt.end).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\")\n  // \t\t);\n  // \t});\n\n  // \tsetDayEvents(events);\n  // }, [filteredEvents, day]);\n\n  useEffect(function () {\n    var Myevents = events.filter(function (evt) {\n      return dayjs(evt.start).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\") || dayjs(evt.end).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\");\n    });\n    setDayEvents(Myevents);\n  }, [events, day]);\n  function getCurrentDayClass() {\n    return day.format(\"DD-MM-YY\") === dayjs().format(\"DD-MM-YY\") ? \"bg-blue-600 text-white rounded-full w-7\" : \"\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border border-gray-200 flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"flex flex-col items-center\",\n      children: [rowIdx === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm mt-1\",\n        children: day.format(\"ddd\").toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm p-1 my-1 text-center  \".concat(getCurrentDayClass()),\n        children: day.format(\"DD\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 cursor-pointer scorllable\",\n      onClick: function onClick() {\n        setDaySelected(day);\n        setShowEventModal(true);\n      },\n      children: dayEvents.map(function (evt, idx) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: function onClick() {\n            return setSelectedEvent(evt);\n          },\n          className: \"bg-\".concat(evt.label, \"-200 p-1 mr-3 text-gray-600 text-sm rounded mb-1 truncate\"),\n          children: [dayjs(evt.start).format(\"hh:mm\"), \" \", evt.title]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 6\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n}\n_s(Day, \"VEY+8CNDhEUk2QMedSFsGP8d01c=\");\n_c = Day;\nvar _c;\n$RefreshReg$(_c, \"Day\");","map":{"version":3,"names":["dayjs","React","useContext","useState","useEffect","AuthContext","GlobalContext","EventService","utc","timezone","Day","day","rowIdx","dayEvents","setDayEvents","currentUser","setDaySelected","setShowEventModal","filteredEvents","events","setSelectedEvent","Myevents","filter","evt","start","format","end","getCurrentDayClass","toUpperCase","map","idx","label","title"],"sources":["/Users/omarhmdea/Documents/calendar-front/src/components/Day.js"],"sourcesContent":["import dayjs from \"dayjs\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport GlobalContext from \"../context/GlobalContext\";\nimport EventService from \"../services/EventService\";\n\nimport utc from \"dayjs/plugin/utc\";\nimport timezone from \"dayjs/plugin/timezone\";\n\n// dayjs.extend(utc);\n// dayjs.extend(timezone);\n\nexport default function Day({ day, rowIdx }) {\n\tconst [dayEvents, setDayEvents] = useState([]);\n\tconst { currentUser } = useContext(AuthContext);\n\n\tconst {\n\t\tsetDaySelected,\n\t\tsetShowEventModal,\n\t\tfilteredEvents,\n\t\tevents,\n\t\tsetSelectedEvent,\n\t} = useContext(GlobalContext);\n\n\t// useEffect(() => {\n\t// \tconst events = filteredEvents.filter((evt) => {\n\t// \t\treturn (\n\t// \t\t\tdayjs(evt.start).format(\"DD-MM-YY\") ===\n\t// \t\t\t\tday.format(\"DD-MM-YY\") ||\n\t// \t\t\tdayjs(evt.end).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\")\n\t// \t\t);\n\t// \t});\n\n\t// \tsetDayEvents(events);\n\t// }, [filteredEvents, day]);\n\n\tuseEffect(() => {\n\t\tconst Myevents = events.filter((evt) => {\n\t\t\treturn (\n\t\t\t\tdayjs(evt.start).format(\"DD-MM-YY\") ===\n\t\t\t\t\tday.format(\"DD-MM-YY\") ||\n\t\t\t\tdayjs(evt.end).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\")\n\t\t\t);\n\t\t});\n\n\t\tsetDayEvents(Myevents);\n\t}, [events, day]);\n\n\tfunction getCurrentDayClass() {\n\t\treturn day.format(\"DD-MM-YY\") === dayjs().format(\"DD-MM-YY\")\n\t\t\t? \"bg-blue-600 text-white rounded-full w-7\"\n\t\t\t: \"\";\n\t}\n\treturn (\n\t\t<div className=\"border border-gray-200 flex flex-col\">\n\t\t\t<header className=\"flex flex-col items-center\">\n\t\t\t\t{rowIdx === 0 && (\n\t\t\t\t\t<p className=\"text-sm mt-1\">\n\t\t\t\t\t\t{day.format(\"ddd\").toUpperCase()}\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t\t<p\n\t\t\t\t\tclassName={`text-sm p-1 my-1 text-center  ${getCurrentDayClass()}`}\n\t\t\t\t>\n\t\t\t\t\t{day.format(\"DD\")}\n\t\t\t\t</p>\n\t\t\t</header>\n\t\t\t<div\n\t\t\t\tclassName=\"flex-1 cursor-pointer scorllable\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetDaySelected(day);\n\t\t\t\t\tsetShowEventModal(true);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{dayEvents.map((evt, idx) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tonClick={() => setSelectedEvent(evt)}\n\t\t\t\t\t\tclassName={`bg-${evt.label}-200 p-1 mr-3 text-gray-600 text-sm rounded mb-1 truncate`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{dayjs(evt.start).format(\"hh:mm\")} {evt.title}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,aAAa,MAAM,0BAA0B;AACpD,OAAOC,YAAY,MAAM,0BAA0B;AAEnD,OAAOC,GAAG,MAAM,kBAAkB;AAClC,OAAOC,QAAQ,MAAM,uBAAuB;;AAE5C;AACA;AAAA;AAEA,eAAe,SAASC,GAAG,OAAkB;EAAA;EAAA;EAAA,IAAfC,GAAG,QAAHA,GAAG;IAAEC,MAAM,QAANA,MAAM;EACxC,gBAAkCT,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAvCU,SAAS;IAAEC,YAAY;EAC9B,kBAAwBZ,UAAU,CAACG,WAAW,CAAC;IAAvCU,WAAW,eAAXA,WAAW;EAEnB,mBAMIb,UAAU,CAACI,aAAa,CAAC;IAL5BU,cAAc,gBAAdA,cAAc;IACdC,iBAAiB,gBAAjBA,iBAAiB;IACjBC,cAAc,gBAAdA,cAAc;IACdC,MAAM,gBAANA,MAAM;IACNC,gBAAgB,gBAAhBA,gBAAgB;;EAGjB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEAhB,SAAS,CAAC,YAAM;IACf,IAAMiB,QAAQ,GAAGF,MAAM,CAACG,MAAM,CAAC,UAACC,GAAG,EAAK;MACvC,OACCvB,KAAK,CAACuB,GAAG,CAACC,KAAK,CAAC,CAACC,MAAM,CAAC,UAAU,CAAC,KAClCd,GAAG,CAACc,MAAM,CAAC,UAAU,CAAC,IACvBzB,KAAK,CAACuB,GAAG,CAACG,GAAG,CAAC,CAACD,MAAM,CAAC,UAAU,CAAC,KAAKd,GAAG,CAACc,MAAM,CAAC,UAAU,CAAC;IAE9D,CAAC,CAAC;IAEFX,YAAY,CAACO,QAAQ,CAAC;EACvB,CAAC,EAAE,CAACF,MAAM,EAAER,GAAG,CAAC,CAAC;EAEjB,SAASgB,kBAAkB,GAAG;IAC7B,OAAOhB,GAAG,CAACc,MAAM,CAAC,UAAU,CAAC,KAAKzB,KAAK,EAAE,CAACyB,MAAM,CAAC,UAAU,CAAC,GACzD,yCAAyC,GACzC,EAAE;EACN;EACA,oBACC;IAAK,SAAS,EAAC,sCAAsC;IAAA,wBACpD;MAAQ,SAAS,EAAC,4BAA4B;MAAA,WAC5Cb,MAAM,KAAK,CAAC,iBACZ;QAAG,SAAS,EAAC,cAAc;QAAA,UACzBD,GAAG,CAACc,MAAM,CAAC,KAAK,CAAC,CAACG,WAAW;MAAE;QAAA;QAAA;QAAA;MAAA,QAEjC,eACD;QACC,SAAS,0CAAmCD,kBAAkB,EAAE,CAAG;QAAA,UAElEhB,GAAG,CAACc,MAAM,CAAC,IAAI;MAAC;QAAA;QAAA;QAAA;MAAA,QACd;IAAA;MAAA;MAAA;MAAA;IAAA,QACI,eACT;MACC,SAAS,EAAC,kCAAkC;MAC5C,OAAO,EAAE,mBAAM;QACdT,cAAc,CAACL,GAAG,CAAC;QACnBM,iBAAiB,CAAC,IAAI,CAAC;MACxB,CAAE;MAAA,UAEDJ,SAAS,CAACgB,GAAG,CAAC,UAACN,GAAG,EAAEO,GAAG;QAAA,oBACvB;UAEC,OAAO,EAAE;YAAA,OAAMV,gBAAgB,CAACG,GAAG,CAAC;UAAA,CAAC;UACrC,SAAS,eAAQA,GAAG,CAACQ,KAAK,8DAA4D;UAAA,WAErF/B,KAAK,CAACuB,GAAG,CAACC,KAAK,CAAC,CAACC,MAAM,CAAC,OAAO,CAAC,EAAC,GAAC,EAACF,GAAG,CAACS,KAAK;QAAA,GAJxCF,GAAG;UAAA;UAAA;UAAA;QAAA,SAKH;MAAA,CACN;IAAC;MAAA;MAAA;MAAA;IAAA,QACG;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAER;AAAC,GA1EuBpB,GAAG;AAAA,KAAHA,GAAG;AAAA;AAAA"},"metadata":{},"sourceType":"module"}