{"ast":null,"code":"import _toConsumableArray from \"/Users/omarhmdea/Documents/calendar-front/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/omarhmdea/Documents/calendar-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/omarhmdea/Documents/calendar-front/src/components/Labels.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport GlobalContext from \"../context/GlobalContext\";\nimport EventService from \"../services/EventService\";\nimport Checkbox from \"./Checkbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Labels() {\n  _s();\n  var _this = this;\n  var _useContext = useContext(GlobalContext),\n    labels = _useContext.labels,\n    updateLabel = _useContext.updateLabel,\n    savedCalendars = _useContext.savedCalendars,\n    setSavedCalendars = _useContext.setSavedCalendars,\n    setEvents = _useContext.setEvents,\n    events = _useContext.events;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    checkState = _useState2[0],\n    setCheckState = _useState2[1];\n  var _useContext2 = useContext(AuthContext),\n    currentUser = _useContext2.currentUser;\n  var handleCheck = function handleCheck(newEvents, action) {\n    if (action === \"push\") {\n      setEvents([].concat(_toConsumableArray(events), _toConsumableArray(newEvents)));\n    } else {\n      var filtered = [];\n      var flag = 0;\n      events.forEach(function (event, idx) {\n        flag = 0;\n        newEvents.forEach(function (evt) {\n          if (event.id === evt.id) {\n            flag = 1;\n          }\n        });\n        if (flag == 0) {\n          filtered.push(event);\n        }\n      });\n      setEvents(filtered);\n    }\n  };\n  useEffect(function () {\n    var getData = function getData() {\n      EventService.getMyCalendars(currentUser.token).then(function (res) {\n        var _res$data;\n        setSavedCalendars((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.data);\n      }).catch(function (error) {\n        var _error$response;\n        console.log(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data.errors);\n      });\n    };\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 font-bold mt-5\",\n      children: \"Shared Calendars\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), savedCalendars.map(function (calendar, idx) {\n      return /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"items-center mt-3 block\",\n        children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n          calendar: calendar,\n          onChange: handleCheck\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ml-2 text-gray-700 capitalize\",\n          children: idx == 0 ? \"My Calendar\" : calendar.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, _this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 5\n      }, _this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n\n  // return (\n  // \t<React.Fragment>\n  // \t\t<p className=\"text-gray-500 font-bold mt-10\">Label</p>\n  // \t\t{labels.map(({ label: lbl, checked }, idx) => (\n  // \t\t\t<label key={idx} className=\"items-center mt-3 block\">\n  // \t\t\t\t<input\n  // \t\t\t\t\ttype=\"checkbox\"\n  // \t\t\t\t\tchecked={checked}\n  // \t\t\t\t\tonChange={() =>\n  // \t\t\t\t\t\tupdateLabel({ label: lbl, checked: !checked })\n  // \t\t\t\t\t}\n  // \t\t\t\t\tclassName={`form-checkbox h-5 w-5 text-${lbl}-400 rounded focus:ring-0 cursor-pointer`}\n  // \t\t\t\t/>\n  // \t\t\t\t<span className=\"ml-2 text-gray-700 capitalize\">{lbl}</span>\n  // \t\t\t</label>\n  // \t\t))}\n  // \t</React.Fragment>\n  // );\n}\n_s(Labels, \"hTo9k5gUoIh0MUkFsIntDMUS+F8=\");\n_c = Labels;\nvar _c;\n$RefreshReg$(_c, \"Labels\");","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","GlobalContext","EventService","Checkbox","Labels","labels","updateLabel","savedCalendars","setSavedCalendars","setEvents","events","checkState","setCheckState","currentUser","handleCheck","newEvents","action","filtered","flag","forEach","event","idx","evt","id","push","getData","getMyCalendars","token","then","res","data","catch","error","console","log","response","errors","map","calendar","name"],"sources":["/Users/omarhmdea/Documents/calendar-front/src/components/Labels.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport GlobalContext from \"../context/GlobalContext\";\nimport EventService from \"../services/EventService\";\nimport Checkbox from \"./Checkbox\";\n\nexport default function Labels() {\n\tconst {\n\t\tlabels,\n\t\tupdateLabel,\n\t\tsavedCalendars,\n\t\tsetSavedCalendars,\n\t\tsetEvents,\n\t\tevents,\n\t} = useContext(GlobalContext);\n\tconst [checkState, setCheckState] = useState(false);\n\tconst { currentUser } = useContext(AuthContext);\n\n\tconst handleCheck = (newEvents, action) => {\n\t\tif (action === \"push\") {\n\t\t\tsetEvents([...events, ...newEvents]);\n\t\t} else {\n\t\t\tconst filtered = [];\n\t\t\tlet flag = 0;\n\t\t\tevents.forEach((event, idx) => {\n\t\t\t\tflag = 0;\n\t\t\t\tnewEvents.forEach((evt) => {\n\t\t\t\t\tif (event.id === evt.id) {\n\t\t\t\t\t\tflag = 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (flag == 0) {\n\t\t\t\t\tfiltered.push(event);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsetEvents(filtered);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tconst getData = () => {\n\t\t\tEventService.getMyCalendars(currentUser.token)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetSavedCalendars(res.data?.data);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsole.log(error?.response?.data.errors);\n\t\t\t\t});\n\t\t};\n\t\tgetData();\n\t}, []);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<p className=\"text-gray-500 font-bold mt-5\">Shared Calendars</p>\n\t\t\t{savedCalendars.map((calendar, idx) => (\n\t\t\t\t<label key={idx} className=\"items-center mt-3 block\">\n\t\t\t\t\t<Checkbox calendar={calendar} onChange={handleCheck} />\n\t\t\t\t\t{/* <input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={calendar.checked}\n\t\t\t\t\t\tonChange={handleCheck}\n\t\t\t\t\t\tclassName={`form-checkbox h-5 w-5 text-blue-400 rounded focus:ring-0 cursor-pointer`} //change red\n\t\t\t\t\t/> */}\n\t\t\t\t\t<span className=\"ml-2 text-gray-700 capitalize\">\n\t\t\t\t\t\t{idx == 0 ? \"My Calendar\" : calendar.name}\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t))}\n\t\t</React.Fragment>\n\t);\n\n\t// return (\n\t// \t<React.Fragment>\n\t// \t\t<p className=\"text-gray-500 font-bold mt-10\">Label</p>\n\t// \t\t{labels.map(({ label: lbl, checked }, idx) => (\n\t// \t\t\t<label key={idx} className=\"items-center mt-3 block\">\n\t// \t\t\t\t<input\n\t// \t\t\t\t\ttype=\"checkbox\"\n\t// \t\t\t\t\tchecked={checked}\n\t// \t\t\t\t\tonChange={() =>\n\t// \t\t\t\t\t\tupdateLabel({ label: lbl, checked: !checked })\n\t// \t\t\t\t\t}\n\t// \t\t\t\t\tclassName={`form-checkbox h-5 w-5 text-${lbl}-400 rounded focus:ring-0 cursor-pointer`}\n\t// \t\t\t\t/>\n\t// \t\t\t\t<span className=\"ml-2 text-gray-700 capitalize\">{lbl}</span>\n\t// \t\t\t</label>\n\t// \t\t))}\n\t// \t</React.Fragment>\n\t// );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}